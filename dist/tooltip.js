(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Tooltip"] = factory();
	else
		root["Tooltip"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _tooltip = __webpack_require__(1);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _tooltip2.default;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi9saWIvdG9vbHRpcCc7XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2x0aXA7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Tooltip);\n\n    this.settings = {\n      selector: 'a',\n      tooltipClass: 'tooltip',\n      margin: 10,\n      position: 'center-top'\n    };\n\n    Object.keys(options).forEach(function (option) {\n      _this.settings[option] = options[option];\n    });\n\n    this.tooltippedElements = document.querySelectorAll(this.settings.selector);\n\n    this.createTooltip();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'getDesiredPosition',\n    value: function getDesiredPosition(element) {\n      var position = '';\n\n      if (Tooltip.elHasNonEmptyAttr(element)('data-position')) {\n        position = element.dataset.position;\n      } else {\n        position = this.settings.position;\n      }\n\n      var posSplit = position.split('-');\n\n      if (posSplit.length < 2) {\n        if (posSplit[0] === 'top' || posSplit[0] === 'bottom') {\n          posSplit.unshift('center');\n        }\n\n        if (posSplit[0] === 'left' || posSplit[0] === 'right') {\n          posSplit.push('center');\n        }\n      }\n\n      return {\n        x: posSplit[0],\n        y: posSplit[1]\n      };\n    }\n  }, {\n    key: 'resetClass',\n    value: function resetClass() {\n      this.tooltip.removeAttribute('class');\n      this.tooltip.classList.add(this.settings.tooltipClass);\n    }\n  }, {\n    key: 'setClass',\n    value: function setClass(tooltipPosition) {\n      this.tooltip.classList.add(this.settings.tooltipClass + '--' + tooltipPosition);\n    }\n  }, {\n    key: 'setTooltipVisibility',\n    value: function setTooltipVisibility() {\n      var visibilityClass = this.settings.tooltipClass + '--visible';\n\n      if (!this.tooltip.classList.contains(visibilityClass)) {\n        this.tooltip.classList.add(visibilityClass);\n      } else {\n        this.tooltip.classList.remove(visibilityClass);\n      }\n\n      if (!this.tooltip.classList.contains(visibilityClass)) {\n        this.tooltip.removeAttribute('style');\n        this.resetClass();\n      }\n    }\n  }, {\n    key: 'calcPosition',\n    value: function calcPosition(elementRect, posObj) {\n      var tooltipBounding = this.tooltip.getBoundingClientRect();\n      var elementBounding = elementRect;\n      var pageScroll = Tooltip.getScroll();\n\n      var position = {\n        x: pageScroll.x,\n        y: pageScroll.y\n      };\n\n      // Position for x\n\n      if (posObj.x === 'left' && (posObj.y === 'top' || posObj.y === 'bottom')) {\n        position.x += elementBounding.left;\n      }\n\n      if (posObj.x === 'center' && (posObj.y === 'top' || posObj.y === 'bottom')) {\n        position.x += elementBounding.left + (elementBounding.width / 2 - tooltipBounding.width / 2);\n      }\n\n      if (posObj.x === 'right' && (posObj.y === 'top' || posObj.y === 'bottom')) {\n        position.x += elementBounding.right - tooltipBounding.width;\n      }\n\n      if (posObj.x === 'left' && posObj.y === 'center') {\n        position.x += elementBounding.left - this.settings.margin - tooltipBounding.width;\n      }\n\n      if (posObj.x === 'right' && posObj.y === 'center') {\n        position.x += elementBounding.right + this.settings.margin;\n      }\n\n      // Position for y\n\n      if (posObj.y === 'top') {\n        position.y += elementBounding.top - tooltipBounding.height - this.settings.margin;\n      }\n\n      if (posObj.y === 'center') {\n        position.y += elementBounding.top + (elementBounding.height / 2 - tooltipBounding.height / 2);\n      }\n\n      if (posObj.y === 'bottom') {\n        position.y += elementBounding.bottom + this.settings.margin;\n      }\n\n      return position;\n    }\n  }, {\n    key: 'checkTopPosition',\n    value: function checkTopPosition(elementBounding) {\n      var space = elementBounding.top - this.settings.margin;\n      return space > this.tooltip.offsetHeight;\n    }\n  }, {\n    key: 'checkBottomPosition',\n    value: function checkBottomPosition(elementBounding) {\n      var space = window.innerHeight - (elementBounding.bottom + this.settings.margin);\n      return space > this.tooltip.offsetHeight;\n    }\n  }, {\n    key: 'checkRightPosition',\n    value: function checkRightPosition(elementBounding) {\n      var space = window.innerWidth - (elementBounding.right + this.settings.margin);\n      return space > this.tooltip.offsetWidth;\n    }\n  }, {\n    key: 'checkLeftPosition',\n    value: function checkLeftPosition(elementBounding) {\n      var space = elementBounding.left - this.settings.margin;\n      return space > this.tooltip.offsetWidth;\n    }\n\n    // check alignments possible in the viewport\n\n  }, {\n    key: 'getPossiblePositions',\n    value: function getPossiblePositions(elementBounding) {\n      return {\n        top: this.checkTopPosition(elementBounding),\n        right: this.checkRightPosition(elementBounding),\n        bottom: this.checkBottomPosition(elementBounding),\n        left: this.checkLeftPosition(elementBounding)\n      };\n    }\n\n    // compare desired & possible alignments;\n    // if desired is not possible, return best possible position\n\n  }, {\n    key: 'getActualPosition',\n    value: function getActualPosition(desiredPosition, possiblePositions) {\n      var position = {};\n\n      if (possiblePositions[desiredPosition.x] && possiblePositions[desiredPosition.y]) {\n        position.x = desiredPosition.x;\n        position.y = desiredPosition.y;\n      } else {\n        if (desiredPosition.x === 'center') {}\n\n        if (desiredPosition.y === 'center') {}\n      }\n\n      return position;\n    }\n  }, {\n    key: 'setTooltipPosition',\n    value: function setTooltipPosition(element) {\n      var elementRect = element.getBoundingClientRect();\n      var desiredPosition = this.getDesiredPosition(element);\n      var possiblePositions = this.getPossiblePositions(elementRect);\n      var actualPosition = this.getActualPosition(desiredPosition, possiblePositions);\n\n      this.tooltip.style.left = this.calcPosition(elementRect, actualPosition).x + 'px';\n      this.tooltip.style.top = this.calcPosition(elementRect, actualPosition).y + 'px';\n\n      this.setClass(actualPosition.x + '-' + actualPosition.y);\n    }\n  }, {\n    key: 'setTooltipContent',\n    value: function setTooltipContent(content) {\n      this.tooltip.textContent = content;\n    }\n  }, {\n    key: 'mouseEnterHandler',\n    value: function mouseEnterHandler(event) {\n      var element = event.currentTarget;\n\n      this.setTooltipContent(element.dataset.tooltip);\n      this.setTooltipPosition(element);\n      this.setTooltipVisibility();\n    }\n  }, {\n    key: 'mouseLeaveHandler',\n    value: function mouseLeaveHandler() {\n      this.setTooltipVisibility();\n    }\n  }, {\n    key: 'bindElementEvents',\n    value: function bindElementEvents(element) {\n      var _this2 = this;\n\n      element.addEventListener('mouseenter', function (event) {\n        return _this2.mouseEnterHandler(event);\n      });\n      element.addEventListener('focus', function (event) {\n        return _this2.mouseEnterHandler(event);\n      });\n\n      element.addEventListener('mouseleave', function (event) {\n        return _this2.mouseLeaveHandler(event);\n      });\n      element.addEventListener('blur', function (event) {\n        return _this2.mouseLeaveHandler(event);\n      });\n    }\n  }, {\n    key: 'createTooltipData',\n    value: function createTooltipData() {\n      var _this3 = this;\n\n      [].concat(_toConsumableArray(this.tooltippedElements)).forEach(function (element) {\n        var elementHas = Tooltip.elHasNonEmptyAttr(element);\n\n        if (elementHas('title') && !elementHas('data-tooltip')) {\n          element.dataset.tooltip = element.getAttribute('title');\n          element.setAttribute('title', '');\n        }\n\n        if (elementHas('data-tooltip')) {\n          _this3.bindElementEvents(element);\n        }\n      });\n    }\n  }, {\n    key: 'createTooltip',\n    value: function createTooltip() {\n      var tooltip = document.createElement('div');\n      tooltip.classList.add(this.settings.tooltipClass);\n      document.body.appendChild(tooltip);\n\n      this.tooltip = tooltip;\n      this.createTooltipData();\n    }\n  }], [{\n    key: 'elHasNonEmptyAttr',\n    value: function elHasNonEmptyAttr(el) {\n      return function (attr) {\n        return el.hasAttribute(attr) && el.getAttribute(attr) !== '';\n      };\n    }\n  }, {\n    key: 'getScroll',\n    value: function getScroll() {\n      var scroll = {};\n\n      scroll.x = window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft;\n\n      scroll.y = window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n\n      return scroll;\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\nmodule.exports = exports['default'];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGliL3Rvb2x0aXAuanM/ZGUwMSJdLCJuYW1lcyI6WyJUb29sdGlwIiwib3B0aW9ucyIsInNldHRpbmdzIiwic2VsZWN0b3IiLCJ0b29sdGlwQ2xhc3MiLCJtYXJnaW4iLCJwb3NpdGlvbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwib3B0aW9uIiwidG9vbHRpcHBlZEVsZW1lbnRzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3JlYXRlVG9vbHRpcCIsImVsZW1lbnQiLCJlbEhhc05vbkVtcHR5QXR0ciIsImRhdGFzZXQiLCJwb3NTcGxpdCIsInNwbGl0IiwibGVuZ3RoIiwidW5zaGlmdCIsInB1c2giLCJ4IiwieSIsInRvb2x0aXAiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0b29sdGlwUG9zaXRpb24iLCJ2aXNpYmlsaXR5Q2xhc3MiLCJjb250YWlucyIsInJlbW92ZSIsInJlc2V0Q2xhc3MiLCJlbGVtZW50UmVjdCIsInBvc09iaiIsInRvb2x0aXBCb3VuZGluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImVsZW1lbnRCb3VuZGluZyIsInBhZ2VTY3JvbGwiLCJnZXRTY3JvbGwiLCJsZWZ0Iiwid2lkdGgiLCJyaWdodCIsInRvcCIsImhlaWdodCIsImJvdHRvbSIsInNwYWNlIiwib2Zmc2V0SGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJjaGVja1RvcFBvc2l0aW9uIiwiY2hlY2tSaWdodFBvc2l0aW9uIiwiY2hlY2tCb3R0b21Qb3NpdGlvbiIsImNoZWNrTGVmdFBvc2l0aW9uIiwiZGVzaXJlZFBvc2l0aW9uIiwicG9zc2libGVQb3NpdGlvbnMiLCJnZXREZXNpcmVkUG9zaXRpb24iLCJnZXRQb3NzaWJsZVBvc2l0aW9ucyIsImFjdHVhbFBvc2l0aW9uIiwiZ2V0QWN0dWFsUG9zaXRpb24iLCJzdHlsZSIsImNhbGNQb3NpdGlvbiIsInNldENsYXNzIiwiY29udGVudCIsInRleHRDb250ZW50IiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0Iiwic2V0VG9vbHRpcENvbnRlbnQiLCJzZXRUb29sdGlwUG9zaXRpb24iLCJzZXRUb29sdGlwVmlzaWJpbGl0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJtb3VzZUVudGVySGFuZGxlciIsIm1vdXNlTGVhdmVIYW5kbGVyIiwiZWxlbWVudEhhcyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImJpbmRFbGVtZW50RXZlbnRzIiwiY3JlYXRlRWxlbWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRvb2x0aXBEYXRhIiwiZWwiLCJhdHRyIiwiaGFzQXR0cmlidXRlIiwic2Nyb2xsIiwicGFnZVhPZmZzZXQiLCJ1bmRlZmluZWQiLCJkb2N1bWVudEVsZW1lbnQiLCJwYXJlbnROb2RlIiwic2Nyb2xsTGVmdCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7SUFBTUEsTztBQUNKLHFCQUEwQjtBQUFBOztBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTs7QUFBQTs7QUFDeEIsU0FBS0MsUUFBTCxHQUFnQjtBQUNkQyxnQkFBVSxHQURJO0FBRWRDLG9CQUFjLFNBRkE7QUFHZEMsY0FBUSxFQUhNO0FBSWRDLGdCQUFVO0FBSkksS0FBaEI7O0FBT0FDLFdBQU9DLElBQVAsQ0FBWVAsT0FBWixFQUFxQlEsT0FBckIsQ0FBNkIsVUFBQ0MsTUFBRCxFQUFZO0FBQ3ZDLFlBQUtSLFFBQUwsQ0FBY1EsTUFBZCxJQUF3QlQsUUFBUVMsTUFBUixDQUF4QjtBQUNELEtBRkQ7O0FBSUEsU0FBS0Msa0JBQUwsR0FBMEJDLFNBQVNDLGdCQUFULENBQTBCLEtBQUtYLFFBQUwsQ0FBY0MsUUFBeEMsQ0FBMUI7O0FBRUEsU0FBS1csYUFBTDtBQUNEOzs7O3VDQXVCa0JDLE8sRUFBUztBQUMxQixVQUFJVCxXQUFXLEVBQWY7O0FBRUEsVUFBSU4s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QixRQUFMLENBQWNFLFlBQXBDO0FBQ0FRLGVBQVNxRSxJQUFULENBQWNDLFdBQWQsQ0FBMEJ6RCxPQUExQjs7QUFFQSxXQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDQSxXQUFLMEQsaUJBQUw7QUFDRDs7O3NDQTFPd0JDLEUsRUFBSTtBQUMzQixhQUFPLFVBQUNDLElBQUQsRUFBVTtBQUNmLGVBQU9ELEdBQUdFLFlBQUgsQ0FBZ0JELElBQWhCLEtBQ0FELEdBQUdQLFlBQUgsQ0FBZ0JRLElBQWhCLE1BQTBCLEVBRGpDO0FBRUQsT0FIRDtBQUlEOzs7Z0NBRWtCO0FBQ2pCLFVBQU1FLFNBQVMsRUFBZjs7QUFFQUEsYUFBT2hFLENBQVAsR0FBWTBCLE9BQU91QyxXQUFQLEtBQXVCQyxTQUF4QixHQUNUeEMsT0FBT3VDLFdBREUsR0FFVCxDQUFDNUUsU0FBUzhFLGVBQVQsSUFBNEI5RSxTQUFTcUUsSUFBVCxDQUFjVSxVQUExQyxJQUF3RC9FLFNBQVNxRSxJQUFsRSxFQUF3RVcsVUFGMUU7O0FBSUFMLGFBQU8vRCxDQUFQLEdBQVl5QixPQUFPNEMsV0FBUCxLQUF1QkosU0FBeEIsR0FDVHhDLE9BQU80QyxXQURFLEdBRVQsQ0FBQ2pGLFNBQVM4RSxlQUFULElBQTRCOUUsU0FBU3FFLElBQVQsQ0FBY1UsVUFBMUMsSUFBd0QvRSxTQUFTcUUsSUFBbEUsRUFBd0VhLFNBRjFFOztBQUlBLGFBQU9QLE1BQVA7QUFDRDs7Ozs7O2tCQTBOWXZGLE8iLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFRvb2x0aXAge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnNldHRpbmdzID0ge1xuICAgICAgc2VsZWN0b3I6ICdhJyxcbiAgICAgIHRvb2x0aXBDbGFzczogJ3Rvb2x0aXAnLFxuICAgICAgbWFyZ2luOiAxMCxcbiAgICAgIHBvc2l0aW9uOiAnY2VudGVyLXRvcCdcbiAgICB9O1xuXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldHRpbmdzW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgfSk7XG5cbiAgICB0aGlzLnRvb2x0aXBwZWRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZXR0aW5ncy5zZWxlY3Rvcik7XG5cbiAgICB0aGlzLmNyZWF0ZVRvb2x0aXAoKTtcbiAgfVxuXG4gIHN0YXRpYyBlbEhhc05vbkVtcHR5QXR0cihlbCkge1xuICAgIHJldHVybiAoYXR0cikgPT4ge1xuICAgICAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShhdHRyKSAmJlxuICAgICAgICAgICAgIGVsLmdldEF0dHJpYnV0ZShhdHRyKSAhPT0gJyc7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRTY3JvbGwoKSB7XG4gICAgY29uc3Qgc2Nyb2xsID0ge307XG5cbiAgICBzY3JvbGwueCA9ICh3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgd2luZG93LnBhZ2VYT2Zmc2V0IDpcbiAgICAgIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnQ7XG5cbiAgICBzY3JvbGwueSA9ICh3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0IDpcbiAgICAgIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcDtcblxuICAgIHJldHVybiBzY3JvbGw7XG4gIH1cblxuICBnZXREZXNpcmVkUG9zaXRpb24oZWxlbWVudCkge1xuICAgIGxldCBwb3NpdGlvbiA9ICcnO1xuXG4gICAgaWYgKFRvb2x0aXAuZWxIYXNOb25FbXB0eUF0dHIoZWxlbWVudCkoJ2RhdGEtcG9zaXRpb24nKSkge1xuICAgICAgcG9zaXRpb24gPSBlbGVtZW50LmRhdGFzZXQucG9zaXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5zZXR0aW5ncy5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBjb25zdCBwb3NTcGxpdCA9IHBvc2l0aW9uLnNwbGl0KCctJyk7XG5cbiAgICBpZiAocG9zU3BsaXQubGVuZ3RoIDwgMikge1xuICAgICAgaWYgKHBvc1NwbGl0WzBdID09PSAndG9wJyB8fCBwb3NTcGxpdFswXSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgcG9zU3BsaXQudW5zaGlmdCgnY2VudGVyJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3NTcGxpdFswXSA9PT0gJ2xlZnQnIHx8IHBvc1NwbGl0WzBdID09PSAncmlnaHQnKSB7XG4gICAgICAgIHBvc1NwbGl0LnB1c2goJ2NlbnRlcicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4OiBwb3NTcGxpdFswXSxcbiAgICAgIHk6IHBvc1NwbGl0WzFdXG4gICAgfTtcbiAgfVxuXG4gIHJlc2V0Q2xhc3MoKSB7XG4gICAgdGhpcy50b29sdGlwLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICB0aGlzLnRvb2x0aXAuY2xhc3NMaXN0LmFkZCh0aGlzLnNldHRpbmdzLnRvb2x0aXBDbGFzcyk7XG4gIH1cblxuICBzZXRDbGFzcyh0b29sdGlwUG9zaXRpb24pIHtcbiAgICB0aGlzLnRvb2x0aXAuY2xhc3NMaXN0LmFkZChgJHt0aGlzLnNldHRpbmdzLnRvb2x0aXBDbGFzc30tLSR7dG9vbHRpcFBvc2l0aW9ufWApO1xuICB9XG5cbiAgc2V0VG9vbHRpcFZpc2liaWxpdHkoKSB7XG4gICAgY29uc3QgdmlzaWJpbGl0eUNsYXNzID0gYCR7dGhpcy5zZXR0aW5ncy50b29sdGlwQ2xhc3N9LS12aXNpYmxlYDtcblxuICAgIGlmICghdGhpcy50b29sdGlwLmNsYXNzTGlzdC5jb250YWlucyh2aXNpYmlsaXR5Q2xhc3MpKSB7XG4gICAgICB0aGlzLnRvb2x0aXAuY2xhc3NMaXN0LmFkZCh2aXNpYmlsaXR5Q2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRvb2x0aXAuY2xhc3NMaXN0LnJlbW92ZSh2aXNpYmlsaXR5Q2xhc3MpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy50b29sdGlwLmNsYXNzTGlzdC5jb250YWlucyh2aXNpYmlsaXR5Q2xhc3MpKSB7XG4gICAgICB0aGlzLnRvb2x0aXAucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgdGhpcy5yZXNldENsYXNzKCk7XG4gICAgfVxuICB9XG5cbiAgY2FsY1Bvc2l0aW9uKGVsZW1lbnRSZWN0LCBwb3NPYmopIHtcbiAgICBjb25zdCB0b29sdGlwQm91bmRpbmcgPSB0aGlzLnRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZWxlbWVudEJvdW5kaW5nID0gZWxlbWVudFJlY3Q7XG4gICAgY29uc3QgcGFnZVNjcm9sbCA9IFRvb2x0aXAuZ2V0U2Nyb2xsKCk7XG5cbiAgICBjb25zdCBwb3NpdGlvbiA9IHtcbiAgICAgIHg6IHBhZ2VTY3JvbGwueCxcbiAgICAgIHk6IHBhZ2VTY3JvbGwueVxuICAgIH07XG5cbiAgICAvLyBQb3NpdGlvbiBmb3IgeFxuXG4gICAgaWYgKHBvc09iai54ID09PSAnbGVmdCcgJiYgKHBvc09iai55ID09PSAndG9wJyB8fCBwb3NPYmoueSA9PT0gJ2JvdHRvbScpKSB7XG4gICAgICBwb3NpdGlvbi54ICs9IGVsZW1lbnRCb3VuZGluZy5sZWZ0O1xuICAgIH1cblxuICAgIGlmIChwb3NPYmoueCA9PT0gJ2NlbnRlcicgJiYgKHBvc09iai55ID09PSAndG9wJyB8fCBwb3NPYmoueSA9PT0gJ2JvdHRvbScpKSB7XG4gICAgICBwb3NpdGlvbi54ICs9XG4gICAgICAgIGVsZW1lbnRCb3VuZGluZy5sZWZ0ICtcbiAgICAgICAgKChlbGVtZW50Qm91bmRpbmcud2lkdGggLyAyKSAtICh0b29sdGlwQm91bmRpbmcud2lkdGggLyAyKSk7XG4gICAgfVxuXG4gICAgaWYgKHBvc09iai54ID09PSAncmlnaHQnICYmIChwb3NPYmoueSA9PT0gJ3RvcCcgfHwgcG9zT2JqLnkgPT09ICdib3R0b20nKSkge1xuICAgICAgcG9zaXRpb24ueCArPSAoZWxlbWVudEJvdW5kaW5nLnJpZ2h0IC0gdG9vbHRpcEJvdW5kaW5nLndpZHRoKTtcbiAgICB9XG5cbiAgICBpZiAocG9zT2JqLnggPT09ICdsZWZ0JyAmJiBwb3NPYmoueSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgIHBvc2l0aW9uLnggKz0gKGVsZW1lbnRCb3VuZGluZy5sZWZ0IC0gdGhpcy5zZXR0aW5ncy5tYXJnaW4gLSB0b29sdGlwQm91bmRpbmcud2lkdGgpO1xuICAgIH1cblxuICAgIGlmIChwb3NPYmoueCA9PT0gJ3JpZ2h0JyAmJiBwb3NPYmoueSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgIHBvc2l0aW9uLnggKz0gKGVsZW1lbnRCb3VuZGluZy5yaWdodCArIHRoaXMuc2V0dGluZ3MubWFyZ2luKTtcbiAgICB9XG5cbiAgICAvLyBQb3NpdGlvbiBmb3IgeVxuXG4gICAgaWYgKHBvc09iai55ID09PSAndG9wJykge1xuICAgICAgcG9zaXRpb24ueSArPSAoZWxlbWVudEJvdW5kaW5nLnRvcCAtIHRvb2x0aXBCb3VuZGluZy5oZWlnaHQgLSB0aGlzLnNldHRpbmdzLm1hcmdpbik7XG4gICAgfVxuXG4gICAgaWYgKHBvc09iai55ID09PSAnY2VudGVyJykge1xuICAgICAgcG9zaXRpb24ueSArPVxuICAgICAgICBlbGVtZW50Qm91bmRpbmcudG9wICtcbiAgICAgICAgKChlbGVtZW50Qm91bmRpbmcuaGVpZ2h0IC8gMikgLSAodG9vbHRpcEJvdW5kaW5nLmhlaWdodCAvIDIpKTtcbiAgICB9XG5cbiAgICBpZiAocG9zT2JqLnkgPT09ICdib3R0b20nKSB7XG4gICAgICBwb3NpdGlvbi55ICs9IChlbGVtZW50Qm91bmRpbmcuYm90dG9tICsgdGhpcy5zZXR0aW5ncy5tYXJnaW4pO1xuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIGNoZWNrVG9wUG9zaXRpb24oZWxlbWVudEJvdW5kaW5nKSB7XG4gICAgY29uc3Qgc3BhY2UgPSAoZWxlbWVudEJvdW5kaW5nLnRvcCAtIHRoaXMuc2V0dGluZ3MubWFyZ2luKTtcbiAgICByZXR1cm4gc3BhY2UgPiB0aGlzLnRvb2x0aXAub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgY2hlY2tCb3R0b21Qb3NpdGlvbihlbGVtZW50Qm91bmRpbmcpIHtcbiAgICBjb25zdCBzcGFjZSA9IHdpbmRvdy5pbm5lckhlaWdodCAtIChlbGVtZW50Qm91bmRpbmcuYm90dG9tICsgdGhpcy5zZXR0aW5ncy5tYXJnaW4pO1xuICAgIHJldHVybiBzcGFjZSA+IHRoaXMudG9vbHRpcC5vZmZzZXRIZWlnaHQ7XG4gIH1cblxuICBjaGVja1JpZ2h0UG9zaXRpb24oZWxlbWVudEJvdW5kaW5nKSB7XG4gICAgY29uc3Qgc3BhY2UgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIChlbGVtZW50Qm91bmRpbmcucmlnaHQgKyB0aGlzLnNldHRpbmdzLm1hcmdpbik7XG4gICAgcmV0dXJuIHNwYWNlID4gdGhpcy50b29sdGlwLm9mZnNldFdpZHRoO1xuICB9XG5cbiAgY2hlY2tMZWZ0UG9zaXRpb24oZWxlbWVudEJvdW5kaW5nKSB7XG4gICAgY29uc3Qgc3BhY2UgPSAoZWxlbWVudEJvdW5kaW5nLmxlZnQgLSB0aGlzLnNldHRpbmdzLm1hcmdpbik7XG4gICAgcmV0dXJuIHNwYWNlID4gdGhpcy50b29sdGlwLm9mZnNldFdpZHRoO1xuICB9XG5cbiAgLy8gY2hlY2sgYWxpZ25tZW50cyBwb3NzaWJsZSBpbiB0aGUgdmlld3BvcnRcbiAgZ2V0UG9zc2libGVQb3NpdGlvbnMoZWxlbWVudEJvdW5kaW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogdGhpcy5jaGVja1RvcFBvc2l0aW9uKGVsZW1lbnRCb3VuZGluZyksXG4gICAgICByaWdodDogdGhpcy5jaGVja1JpZ2h0UG9zaXRpb24oZWxlbWVudEJvdW5kaW5nKSxcbiAgICAgIGJvdHRvbTogdGhpcy5jaGVja0JvdHRvbVBvc2l0aW9uKGVsZW1lbnRCb3VuZGluZyksXG4gICAgICBsZWZ0OiB0aGlzLmNoZWNrTGVmdFBvc2l0aW9uKGVsZW1lbnRCb3VuZGluZylcbiAgICB9O1xuICB9XG5cbiAgLy8gY29tcGFyZSBkZXNpcmVkICYgcG9zc2libGUgYWxpZ25tZW50cztcbiAgLy8gaWYgZGVzaXJlZCBpcyBub3QgcG9zc2libGUsIHJldHVybiBiZXN0IHBvc3NpYmxlIHBvc2l0aW9uXG4gIGdldEFjdHVhbFBvc2l0aW9uKGRlc2lyZWRQb3NpdGlvbiwgcG9zc2libGVQb3NpdGlvbnMpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHt9O1xuXG4gICAgaWYgKHBvc3NpYmxlUG9zaXRpb25zW2Rlc2lyZWRQb3NpdGlvbi54XSAmJiBwb3NzaWJsZVBvc2l0aW9uc1tkZXNpcmVkUG9zaXRpb24ueV0pIHtcbiAgICAgIHBvc2l0aW9uLnggPSBkZXNpcmVkUG9zaXRpb24ueDtcbiAgICAgIHBvc2l0aW9uLnkgPSBkZXNpcmVkUG9zaXRpb24ueTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRlc2lyZWRQb3NpdGlvbi54ID09PSAnY2VudGVyJykge1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChkZXNpcmVkUG9zaXRpb24ueSA9PT0gJ2NlbnRlcicpIHtcblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIHNldFRvb2x0aXBQb3NpdGlvbihlbGVtZW50KSB7XG4gICAgY29uc3QgZWxlbWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRlc2lyZWRQb3NpdGlvbiA9IHRoaXMuZ2V0RGVzaXJlZFBvc2l0aW9uKGVsZW1lbnQpO1xuICAgIGNvbnN0IHBvc3NpYmxlUG9zaXRpb25zID0gdGhpcy5nZXRQb3NzaWJsZVBvc2l0aW9ucyhlbGVtZW50UmVjdCk7XG4gICAgY29uc3QgYWN0dWFsUG9zaXRpb24gPSB0aGlzLmdldEFjdHVhbFBvc2l0aW9uKGRlc2lyZWRQb3NpdGlvbiwgcG9zc2libGVQb3NpdGlvbnMpO1xuXG4gICAgdGhpcy50b29sdGlwLnN0eWxlLmxlZnQgPSBgJHt0aGlzLmNhbGNQb3NpdGlvbihlbGVtZW50UmVjdCwgYWN0dWFsUG9zaXRpb24pLnh9cHhgO1xuICAgIHRoaXMudG9vbHRpcC5zdHlsZS50b3AgPSBgJHt0aGlzLmNhbGNQb3NpdGlvbihlbGVtZW50UmVjdCwgYWN0dWFsUG9zaXRpb24pLnl9cHhgO1xuXG4gICAgdGhpcy5zZXRDbGFzcyhgJHthY3R1YWxQb3NpdGlvbi54fS0ke2FjdHVhbFBvc2l0aW9uLnl9YCk7XG4gIH1cblxuICBzZXRUb29sdGlwQ29udGVudChjb250ZW50KSB7XG4gICAgdGhpcy50b29sdGlwLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgfVxuXG4gIG1vdXNlRW50ZXJIYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgICB0aGlzLnNldFRvb2x0aXBDb250ZW50KGVsZW1lbnQuZGF0YXNldC50b29sdGlwKTtcbiAgICB0aGlzLnNldFRvb2x0aXBQb3NpdGlvbihlbGVtZW50KTtcbiAgICB0aGlzLnNldFRvb2x0aXBWaXNpYmlsaXR5KCk7XG4gIH1cblxuICBtb3VzZUxlYXZlSGFuZGxlcigpIHtcbiAgICB0aGlzLnNldFRvb2x0aXBWaXNpYmlsaXR5KCk7XG4gIH1cblxuICBiaW5kRWxlbWVudEV2ZW50cyhlbGVtZW50KSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZXZlbnQgPT4gdGhpcy5tb3VzZUVudGVySGFuZGxlcihldmVudCkpO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBldmVudCA9PiB0aGlzLm1vdXNlRW50ZXJIYW5kbGVyKGV2ZW50KSk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBldmVudCA9PiB0aGlzLm1vdXNlTGVhdmVIYW5kbGVyKGV2ZW50KSk7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZXZlbnQgPT4gdGhpcy5tb3VzZUxlYXZlSGFuZGxlcihldmVudCkpO1xuICB9XG5cbiAgY3JlYXRlVG9vbHRpcERhdGEoKSB7XG4gICAgWy4uLnRoaXMudG9vbHRpcHBlZEVsZW1lbnRzXS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SGFzID0gVG9vbHRpcC5lbEhhc05vbkVtcHR5QXR0cihlbGVtZW50KTtcblxuICAgICAgaWYgKGVsZW1lbnRIYXMoJ3RpdGxlJykgJiYgIWVsZW1lbnRIYXMoJ2RhdGEtdG9vbHRpcCcpKSB7XG4gICAgICAgIGVsZW1lbnQuZGF0YXNldC50b29sdGlwID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICcnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnRIYXMoJ2RhdGEtdG9vbHRpcCcpKSB7XG4gICAgICAgIHRoaXMuYmluZEVsZW1lbnRFdmVudHMoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVUb29sdGlwKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b29sdGlwLmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy50b29sdGlwQ2xhc3MpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9vbHRpcCk7XG5cbiAgICB0aGlzLnRvb2x0aXAgPSB0b29sdGlwO1xuICAgIHRoaXMuY3JlYXRlVG9vbHRpcERhdGEoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sdGlwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2xpYi90b29sdGlwLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ })
/******/ ]);
});