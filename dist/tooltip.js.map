{"version":3,"file":"tooltip.js","sources":["../src/Tooltip.js","../src/main.js"],"sourcesContent":["class Tooltip {\r\n  constructor( tooltipSelector = 'a' ) {\r\n    this.tooltippedElements = document.querySelectorAll( tooltipSelector );\r\n    this.tooltip = null;\r\n    this.createTooltip();\r\n  }\r\n\r\n  createTooltip() {\r\n    const tooltipBox = document.createElement( 'span' );\r\n    tooltipBox.classList.add( 'tooltip' );\r\n    document.body.appendChild( tooltipBox );\r\n\r\n    this.tooltip = tooltipBox;\r\n\r\n    this.copyLabels();\r\n  }\r\n\r\n  copyLabels() {\r\n    [ ...this.tooltippedElements ].forEach( ( element ) => {\r\n      if ( element.hasAttribute( 'title' ) ) {\r\n        const title = element.getAttribute( 'title' );\r\n\r\n        // TODO: Provide WAI-ARIA support\r\n        if ( title !== '' ) {\r\n          element.setAttribute( 'title', '' );\r\n          element.dataset.title = title;\r\n          element.dataset.position = this.determineTooltipPosition( element, this.getTooltipDimensions( title ) );\r\n          this.bindElementEvents( element );\r\n        }\r\n      }\r\n    } );\r\n  }\r\n\r\n  getElementsPositionInViewport( element ) {\r\n    const elementsPosition = element;\r\n    return elementsPosition;\r\n  }\r\n\r\n  getTooltipDimensions( tooltipText ) {\r\n    const tooltipDimensions = [];\r\n\r\n    this.tooltip.textContent = tooltipText;\r\n\r\n    tooltipDimensions[ 0 ] = this.tooltip.offsetWidth;\r\n    tooltipDimensions[ 1 ] = this.tooltip.offsetHeight;\r\n\r\n    this.tooltip.textContent = '';\r\n\r\n    return tooltipDimensions;\r\n  }\r\n\r\n  determineTooltipPosition( element, tooltipDimensions ) {\r\n    let tooltipPosition = tooltipDimensions;\r\n\r\n    tooltipPosition = 'top-center';\r\n\r\n    return tooltipPosition;\r\n  }\r\n\r\n  bindElementEvents( element ) {\r\n    const tooltippedElement = element;\r\n    const tooltippedElementRect = tooltippedElement.getBoundingClientRect();\r\n    // const tooltippedElementStyles = window.getComputedStyle( tooltippedElement );\r\n    const tooltip = this.tooltip;\r\n    const tooltipPosition = tooltippedElement.dataset.position.split( '-' );\r\n\r\n    const calcXShift = ( event ) => {\r\n      // if ( this.options.floating ) {\r\n        // let xShift = event.pageX;\r\n        // xShift -= ( tooltip.clientWidth / 2 );\r\n        // xShift -= tooltip.clientWidth;\r\n      // } else {}\r\n\r\n      console.log( event );\r\n\r\n      // [TOP/BOTTOM]-LEFT case\r\n      let xShift = tooltippedElementRect.left;\r\n\r\n      if ( tooltipPosition[ 1 ] === 'center' ) {\r\n        // [TOP/BOTTOM]-CENTER case\r\n        xShift -= ( tooltip.clientWidth - tooltippedElementRect.width ) / 2;\r\n\r\n      } else if ( tooltipPosition[ 1 ] === 'right' ) {\r\n        // [TOP/BOTTOM]-RIGHT case\r\n        xShift += tooltippedElementRect.width - tooltip.clientWidth;\r\n      }\r\n\r\n      return xShift;\r\n    };\r\n\r\n    const calcYShift = ( event ) => {\r\n      // if ( this.options.floating ) {\r\n      //   yShift += event.pageY;\r\n      // }\r\n\r\n      let yShift = 0;\r\n\r\n      if ( tooltipPosition[ 0 ] === 'top' ) {\r\n        // TOP-[LEFT/CENTER/RIGHT] case\r\n        yShift = tooltippedElementRect.top - tooltip.clientHeight - 10;\r\n\r\n      } else if ( tooltipPosition[ 0 ] === 'bottom' ) {\r\n        // BOTTOM-[LEFT/CENTER/RIGHT] case\r\n        yShift = tooltippedElementRect.bottom + 10;\r\n      }\r\n\r\n      console.log( event );\r\n\r\n      // if ( tooltippedElementStyles.getPropertyValue( 'display' ) !== 'block' ) {\r\n      //   yShift += tooltippedElementRect.top;\r\n      // }\r\n\r\n      return yShift;\r\n    };\r\n\r\n    const setTooltipPosition = ( event ) => {\r\n      tooltip.style.top = `${calcYShift( event )}px`;\r\n      tooltip.style.left = `${calcXShift( event )}px`;\r\n    };\r\n\r\n    const toggleTooltipVisibility = () => {\r\n      const visibilityClass = 'tooltip--visible';\r\n      tooltip.classList.toggle( visibilityClass );\r\n      if ( !tooltip.classList.contains( visibilityClass ) ) {\r\n        tooltip.removeAttribute( 'style' );\r\n      }\r\n    };\r\n\r\n    const mouseEnterHandler = ( event ) => {\r\n      tooltip.textContent = tooltippedElement.dataset.title;\r\n      setTooltipPosition( event );\r\n      toggleTooltipVisibility();\r\n    };\r\n\r\n    const mouseMoveHandler = ( event ) => {\r\n      setTooltipPosition( event );\r\n    };\r\n\r\n    const mouseLeaveHandler = () => {\r\n      toggleTooltipVisibility();\r\n    };\r\n\r\n    tooltippedElement.addEventListener( 'mouseenter', mouseEnterHandler );\r\n    tooltippedElement.addEventListener( 'focus', mouseEnterHandler );\r\n    tooltippedElement.addEventListener( 'mousemove', mouseMoveHandler );\r\n    tooltippedElement.addEventListener( 'mouseleave', mouseLeaveHandler );\r\n    tooltippedElement.addEventListener( 'blur', mouseLeaveHandler );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","import Tooltip from './Tooltip.js';\r\n// let tooltip = new Tooltip();\r\n"],"names":["Tooltip","tooltipSelector","tooltippedElements","document","querySelectorAll","tooltip","createTooltip","tooltipBox","createElement","classList","add","body","appendChild","copyLabels","forEach","element","hasAttribute","title","getAttribute","setAttribute","dataset","position","determineTooltipPosition","getTooltipDimensions","bindElementEvents","elementsPosition","tooltipText","tooltipDimensions","textContent","offsetWidth","offsetHeight","tooltipPosition","tooltippedElement","tooltippedElementRect","getBoundingClientRect","split","calcXShift","event","log","xShift","left","clientWidth","width","calcYShift","yShift","top","clientHeight","bottom","setTooltipPosition","style","toggleTooltipVisibility","visibilityClass","toggle","contains","removeAttribute","mouseEnterHandler","mouseMoveHandler","mouseLeaveHandler","addEventListener"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA;qBACiC;QAAxBC,eAAwB,uEAAN,GAAM;;;SAC9BC,kBAAL,GAA0BC,SAASC,gBAAT,CAA2BH,eAA3B,CAA1B;SACKI,OAAL,GAAe,IAAf;SACKC,aAAL;;;;;oCAGc;UACRC,aAAaJ,SAASK,aAAT,CAAwB,MAAxB,CAAnB;iBACWC,SAAX,CAAqBC,GAArB,CAA0B,SAA1B;eACSC,IAAT,CAAcC,WAAd,CAA2BL,UAA3B;;WAEKF,OAAL,GAAeE,UAAf;;WAEKM,UAAL;;;;iCAGW;;;kCACN,KAAKX,kBAAV,GAA+BY,OAA/B,CAAwC,UAAEC,OAAF,EAAe;YAChDA,QAAQC,YAAR,CAAsB,OAAtB,CAAL,EAAuC;cAC/BC,QAAQF,QAAQG,YAAR,CAAsB,OAAtB,CAAd;;;cAGKD,UAAU,EAAf,EAAoB;oBACVE,YAAR,CAAsB,OAAtB,EAA+B,EAA/B;oBACQC,OAAR,CAAgBH,KAAhB,GAAwBA,KAAxB;oBACQG,OAAR,CAAgBC,QAAhB,GAA2B,MAAKC,wBAAL,CAA+BP,OAA/B,EAAwC,MAAKQ,oBAAL,CAA2BN,KAA3B,CAAxC,CAA3B;kBACKO,iBAAL,CAAwBT,OAAxB;;;OATN;;;;kDAe6BA,SAAU;UACjCU,mBAAmBV,OAAzB;aACOU,gBAAP;;;;yCAGoBC,aAAc;UAC5BC,oBAAoB,EAA1B;;WAEKtB,OAAL,CAAauB,WAAb,GAA2BF,WAA3B;;wBAEmB,CAAnB,IAAyB,KAAKrB,OAAL,CAAawB,WAAtC;wBACmB,CAAnB,IAAyB,KAAKxB,OAAL,CAAayB,YAAtC;;WAEKzB,OAAL,CAAauB,WAAb,GAA2B,EAA3B;;aAEOD,iBAAP;;;;6CAGwBZ,SAASY,mBAAoB;UACjDI,kBAAkBJ,iBAAtB;;wBAEkB,YAAlB;;aAEOI,eAAP;;;;sCAGiBhB,SAAU;UACrBiB,oBAAoBjB,OAA1B;UACMkB,wBAAwBD,kBAAkBE,qBAAlB,EAA9B;;UAEM7B,UAAU,KAAKA,OAArB;UACM0B,kBAAkBC,kBAAkBZ,OAAlB,CAA0BC,QAA1B,CAAmCc,KAAnC,CAA0C,GAA1C,CAAxB;;UAEMC,aAAa,SAAbA,UAAa,CAAEC,KAAF,EAAa;;;;;;;gBAOtBC,GAAR,CAAaD,KAAb;;;YAGIE,SAASN,sBAAsBO,IAAnC;;YAEKT,gBAAiB,CAAjB,MAAyB,QAA9B,EAAyC;;oBAE7B,CAAE1B,QAAQoC,WAAR,GAAsBR,sBAAsBS,KAA9C,IAAwD,CAAlE;SAFF,MAIO,IAAKX,gBAAiB,CAAjB,MAAyB,OAA9B,EAAwC;;oBAEnCE,sBAAsBS,KAAtB,GAA8BrC,QAAQoC,WAAhD;;;eAGKF,MAAP;OArBF;;UAwBMI,aAAa,SAAbA,UAAa,CAAEN,KAAF,EAAa;;;;;YAK1BO,SAAS,CAAb;;YAEKb,gBAAiB,CAAjB,MAAyB,KAA9B,EAAsC;;mBAE3BE,sBAAsBY,GAAtB,GAA4BxC,QAAQyC,YAApC,GAAmD,EAA5D;SAFF,MAIO,IAAKf,gBAAiB,CAAjB,MAAyB,QAA9B,EAAyC;;mBAErCE,sBAAsBc,MAAtB,GAA+B,EAAxC;;;gBAGMT,GAAR,CAAaD,KAAb;;;;;;eAMOO,MAAP;OAtBF;;UAyBMI,qBAAqB,SAArBA,kBAAqB,CAAEX,KAAF,EAAa;gBAC9BY,KAAR,CAAcJ,GAAd,GAAuBF,WAAYN,KAAZ,CAAvB;gBACQY,KAAR,CAAcT,IAAd,GAAwBJ,WAAYC,KAAZ,CAAxB;OAFF;;UAKMa,0BAA0B,SAA1BA,uBAA0B,GAAM;YAC9BC,kBAAkB,kBAAxB;gBACQ1C,SAAR,CAAkB2C,MAAlB,CAA0BD,eAA1B;YACK,CAAC9C,QAAQI,SAAR,CAAkB4C,QAAlB,CAA4BF,eAA5B,CAAN,EAAsD;kBAC5CG,eAAR,CAAyB,OAAzB;;OAJJ;;UAQMC,oBAAoB,SAApBA,iBAAoB,CAAElB,KAAF,EAAa;gBAC7BT,WAAR,GAAsBI,kBAAkBZ,OAAlB,CAA0BH,KAAhD;2BACoBoB,KAApB;;OAFF;;UAMMmB,mBAAmB,SAAnBA,gBAAmB,CAAEnB,KAAF,EAAa;2BAChBA,KAApB;OADF;;UAIMoB,oBAAoB,SAApBA,iBAAoB,GAAM;;OAAhC;;wBAIkBC,gBAAlB,CAAoC,YAApC,EAAkDH,iBAAlD;wBACkBG,gBAAlB,CAAoC,OAApC,EAA6CH,iBAA7C;wBACkBG,gBAAlB,CAAoC,WAApC,EAAiDF,gBAAjD;wBACkBE,gBAAlB,CAAoC,YAApC,EAAkDD,iBAAlD;wBACkBC,gBAAlB,CAAoC,MAApC,EAA4CD,iBAA5C;;;;IAIJ;;ACrJA"}